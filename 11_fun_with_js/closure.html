

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Closure</title>
</head>
<body style="background-color: black;">

    <button id="orange">Orange</button>
    <button id="green">Green</button>

    <script>

        function Outer() {
            let username = "Pruthvi"
            console.log(secret);
            
            function InnerOne() {
                let secret = 'hello123'
                console.log("InnerOne",username);
            }
            function InnerTwo() {
                console.log("InnerTwo",username);
                console.log('InneerTwo',secret);
                
            }
            InnerOne()  // function inside function can access its variables (meand child function can access info of parent function)
            InnerTwo()  //but child function cannot share info with each other (means two brothers cannot share with each other)
                        // and also parent function also cannot access info of child functions
        }
        Outer()
        console.log("too outer",username);

        /*


`Lexical scope` (also known as static scope) is a fundamental concept is JS that variables are resolved in nested functions. Nested functions have access to variables in their outer scope.

*Key Points of Lexical Scope*:
-> Variables are accessible within the function they are declared in and any nested functions.
-> Nested functions can access variables from their parent functions.
-> Variables are not accessible outside the function they are declared in.

In the above code snippet, 
- username is declared in outer function and the inner function can access it.
- two separate inner functions declared in the scope of outer function can access same username declared in outer function.
- variable declared in first inner function is not accessible to another inner function 
- variable declared in inner function is not accessible to outer function


*/

// MDN Example: 
    // function makeFunc() {
    //     const name = "Mozilla";
    //     function displayName() {
    //         console.log(name);
    //     }
    //     return displayName;      // whole inner function along with lexical scope of outer function will return i.e its execution context
    // }

    // const myFunc = makeFunc();
    // myFunc();

    //here on return of displayName all lexival scope will be returned not only that functlion
/*


A `closure` is the combination of a function bundled together (enclosed) with references to its surrounding state (the lexical environment). In other words, a closure gives you access to an outer function's Lexical scope from an inner function.


*/

    </script>

    <script>

// return function has acces of color of clickHandler funciton due to closure . all lexical scope is returned

        function clickHandler(color) {

            return function() {
                document.body.style.backgroundColor = `${color}`
            }
        }

        document.getElementById('orange').onclick = clickHandler("orange")
        document.getElementById('green').onclick = clickHandler("green")



    </script>
</body>
</html>